import { Api } from './api.js'
import { CustomObject } from './customObject.js'

export class GuidedTour extends CustomObject{
	constructor(options) {
		super(options);
	}

	static get labelRetries() {
		return this._labelRetries = this._labelRetries || 0;
	}
	static set labelRetries(retryCount) {
		this._labelRetries = retryCount;
	}

	static get popper() {
		return Popper;
	}

	static get predefinedTours() {
		return (this._predefinedTours =
			this._predefinedTours ||
			new Map([
				[ 'tour-main-navigation', [
						{
							attachTo: { element: '.slds-page-header', on: 'bottom' },
							buttons: [{	label: 'Done', action: 'complete' }],
							textLabel: 'Serenity_Tour_Main_Nav_1',
							titleLabel: 'Serenity_Tour_Main_Nav_Title'
						}
					]
				],
				['unknown', []]
			]));
	}
	static set predefinedTours(predefinedTours) {
		this._predefinedTours = predefinedTours;
	}

	static get tippy() {
		return tippy;
	}

	static async getLabel(labelName) {
		let labelText = CustomObject.getLabel(labelName);
		if (labelText === labelName && this.labelRetries === 0) {
			CustomObject.labels = await Api.labels(true);
			this.labelRetries++;
			labelText = CustomObject.getLabel(labelName);
		}
		return labelText;
	}

	static async getTourSteps(options) {
		options = options || {};
		const actions = new Map([['next', options.tour.next], ['back', options.tour.back], ['complete', options.tour.complete]]);
		const steps = [];
		for (const step of this.predefinedTours.get(options.tourName || 'unknown')) {
			const buttons = [];
			for (const button of step.buttons) {
				buttons.push({ text: button.label ? await this.getLabel(button.label) : '', action: actions.get(button.action) });
			}
			steps.push({
				attachTo: step.attachTo ? step.attachTo : '',
				buttons: buttons,
				text: step.textLabel ? await this.getLabel(step.textLabel) : '',
				title: step.titleLabel ? await this.getLabel(step.titleLabel) : ''
			});
		}
		return steps;
	}

	static async startTour(options) {
		options = options || {};
		const tour = new Tour({
			tourName: options.tourName,
			defaultStepOptions: { scrollTo: true },
		});
		const steps = await this.getTourSteps({ tourName: options.tourName, tour: tour });
		steps.forEach(step => tour.addStep(step));
		tour.start();
		return tour;
	}
}

/*! shepherd.esm.js 2.5.0, processed with uglify-es, added tippy and Popper to exports  */
/* for minification, used https://skalman.github.io/UglifyJS-online/ after command-line uglifyjs reported errors */

function baseSlice(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}function isObject(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(t){var e=hasOwnProperty.call(t,symToStringTag),r=t[symToStringTag];try{t[symToStringTag]=void 0;var n=!0}catch(t){}var o=nativeObjectToString.call(t);return n&&(e?t[symToStringTag]=r:delete t[symToStringTag]),o}var objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(t){return nativeObjectToString$1.call(t)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(t){return null==t?void 0===t?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(t)?getRawTag(t):objectToString(t)}function isObjectLike(t){return null!=t&&"object"==typeof t}var symbolTag="[object Symbol]";function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&baseGetTag(t)==symbolTag}var NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(t){if("number"==typeof t)return t;if(isSymbol(t))return NAN;if(isObject(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=isObject(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(reTrim,"");var r=reIsBinary.test(t);return r||reIsOctal.test(t)?freeParseInt(t.slice(2),r?2:8):reIsBadHex.test(t)?NAN:+t}var INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308;function toFinite(t){return t?(t=toNumber(t))===INFINITY||t===-INFINITY?(t<0?-1:1)*MAX_INTEGER:t==t?t:0:0===t?t:0}function toInteger(t){var e=toFinite(t),r=e%1;return e==e?r?e-r:e:0}function drop(t,e,r){var n=null==t?0:t.length;return n?baseSlice(t,(e=r||void 0===e?1:toInteger(e))<0?0:e,n):[]}function isUndefined(t){return void 0===t}class Evented{on(t,e,r){const n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];isUndefined(this.bindings)&&(this.bindings={}),isUndefined(this.bindings[t])&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:r,once:n})}once(t,e,r){this.on(t,e,r,!0)}off(t,e){if(isUndefined(this.bindings)||isUndefined(this.bindings[t]))return!1;isUndefined(e)?delete this.bindings[t]:this.bindings[t].forEach((r,n)=>{r.handler===e&&this.bindings[t].splice(n,1)})}trigger(t){if(!isUndefined(this.bindings)&&this.bindings[t]){const e=drop(arguments);this.bindings[t].forEach((r,n)=>{const o=r.ctx,i=r.handler,a=r.once,s=o||this;i.apply(s,e),a&&this.bindings[t].splice(n,1)})}}}function createBaseFor(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),s=a.length;s--;){var p=a[t?s:++o];if(!1===r(i[p],p,i))break}return e}}var baseFor=createBaseFor();function baseTimes(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var argsTag="[object Arguments]";function baseIsArguments(t){return isObjectLike(t)&&baseGetTag(t)==argsTag}var objectProto$2=Object.prototype,hasOwnProperty$1=objectProto$2.hasOwnProperty,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&hasOwnProperty$1.call(t,"callee")&&!propertyIsEnumerable.call(t,"callee")},isArray=Array.isArray;function stubFalse(){return!1}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(t,e){var r=typeof t;return!!(e=null==e?MAX_SAFE_INTEGER:e)&&("number"==r||"symbol"!=r&&reIsUint.test(t))&&t>-1&&t%1==0&&t<e}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER$1}var argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!typedArrayTags[baseGetTag(t)]}function baseUnary(t){return function(e){return t(e)}}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeExports$1="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var t=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return t||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(t){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function arrayLikeKeys(t,e){var r=isArray(t),n=!r&&isArguments(t),o=!r&&!n&&isBuffer(t),i=!r&&!n&&!o&&isTypedArray(t),a=r||n||o||i,s=a?baseTimes(t.length,String):[],p=s.length;for(var l in t)!e&&!hasOwnProperty$2.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||isIndex(l,p))||s.push(l);return s}var objectProto$4=Object.prototype;function isPrototype(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||objectProto$4)}function overArg(t,e){return function(r){return t(e(r))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$3=objectProto$5.hasOwnProperty;function baseKeys(t){if(!isPrototype(t))return nativeKeys(t);var e=[];for(var r in Object(t))hasOwnProperty$3.call(t,r)&&"constructor"!=r&&e.push(r);return e}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(t){if(!isObject(t))return!1;var e=baseGetTag(t);return e==funcTag$1||e==genTag||e==asyncTag||e==proxyTag}function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}function keys(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}function baseForOwn(t,e){return t&&baseFor(t,e,keys)}function identity(t){return t}function castFunction(t){return"function"==typeof t?t:identity}function forOwn(t,e){return t&&baseForOwn(t,castFunction(e))}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$1="[object Object]",funcProto=Function.prototype,objectProto$6=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$4=objectProto$6.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(t){if(!isObjectLike(t)||baseGetTag(t)!=objectTag$1)return!1;var e=getPrototype(t);if(null===e)return!0;var r=hasOwnProperty$4.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&funcToString.call(r)==objectCtorString}function isElement(t){return isObjectLike(t)&&1===t.nodeType&&!isPlainObject(t)}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(t){if(null!=t){try{return funcToString$1.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$2=Function.prototype,objectProto$7=Object.prototype,funcToString$2=funcProto$2.toString,hasOwnProperty$5=objectProto$7.hasOwnProperty,reIsNative=RegExp("^"+funcToString$2.call(hasOwnProperty$5).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(t){return!(!isObject(t)||isMasked(t))&&(isFunction(t)?reIsNative:reIsHostCtor).test(toSource(t))}function getValue(t,e){return null==t?void 0:t[e]}function getNative(t,e){var r=getValue(t,e);return baseIsNative(r)?r:void 0}var DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),mapTag$1="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$1||Map&&getTag(new Map)!=mapTag$1||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag$1||WeakMap&&getTag(new WeakMap)!=weakMapTag$1)&&(getTag=function(t){var e=baseGetTag(t),r=e==objectTag$2?t.constructor:void 0,n=r?toSource(r):"";if(n)switch(n){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag$1}return e});var getTag$1=getTag,mapTag$2="[object Map]",setTag$2="[object Set]",objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty;function isEmpty(t){if(null==t)return!0;if(isArrayLike(t)&&(isArray(t)||"string"==typeof t||"function"==typeof t.splice||isBuffer(t)||isTypedArray(t)||isArguments(t)))return!t.length;var e=getTag$1(t);if(e==mapTag$2||e==setTag$2)return!t.size;if(isPrototype(t))return!baseKeys(t).length;for(var r in t)if(hasOwnProperty$6.call(t,r))return!1;return!0}var stringTag$1="[object String]";function isString(t){return"string"==typeof t||!isArray(t)&&isObjectLike(t)&&baseGetTag(t)==stringTag$1}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){_defineProperty(t,e,r[e])})}return t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArrayLimit(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var defineProperty=function(){try{var t=getNative(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function baseAssignValue(t,e,r){"__proto__"==e&&defineProperty?defineProperty(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function eq(t,e){return t===e||t!=t&&e!=e}var objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty;function assignValue(t,e,r){var n=t[e];hasOwnProperty$7.call(t,e)&&eq(n,r)&&(void 0!==r||e in t)||baseAssignValue(t,e,r)}function baseZipObject(t,e,r){for(var n=-1,o=t.length,i=e.length,a={};++n<o;){var s=n<i?e[n]:void 0;r(a,t[n],s)}return a}function zipObject(t,e){return baseZipObject(t||[],e||[],assignValue)}
/**!
   * @fileOverview Kickass library to create and place poppers near their reference elements.
   * @version 1.14.7
   * @license
   * Copyright (c) 2016 Federico Zivolo and contributors
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   */for(var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,longerTimeoutBrowsers=["Edge","Trident","Firefox"],timeoutDuration=0,i=0;i<longerTimeoutBrowsers.length;i+=1)if(isBrowser&&navigator.userAgent.indexOf(longerTimeoutBrowsers[i])>=0){timeoutDuration=1;break}function microtaskDebounce(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function taskDebounce(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},timeoutDuration))}}var supportsMicroTasks=isBrowser&&window.Promise,debounce=supportsMicroTasks?microtaskDebounce:taskDebounce;function isFunction$1(t){return t&&"[object Function]"==={}.toString.call(t)}function getStyleComputedProperty(t,e){if(1!==t.nodeType)return[];var r=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?r[e]:r}function getParentNode(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function getScrollParent(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=getStyleComputedProperty(t),r=e.overflow,n=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(r+o+n)?t:getScrollParent(getParentNode(t))}var isIE11=isBrowser&&!(!window.MSInputMethodContext||!document.documentMode),isIE10=isBrowser&&/MSIE 10/.test(navigator.userAgent);function isIE(t){return 11===t?isIE11:10===t?isIE10:isIE11||isIE10}function getOffsetParent(t){if(!t)return document.documentElement;for(var e=isIE(10)?document.body:null,r=t.offsetParent||null;r===e&&t.nextElementSibling;)r=(t=t.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===getStyleComputedProperty(r,"position")?getOffsetParent(r):r:t?t.ownerDocument.documentElement:document.documentElement}function isOffsetContainer(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||getOffsetParent(t.firstElementChild)===t)}function getRoot(t){return null!==t.parentNode?getRoot(t.parentNode):t}function findCommonOffsetParent(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var r=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?t:e,o=r?e:t,i=document.createRange();i.setStart(n,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(t!==a&&e!==a||n.contains(o))return isOffsetContainer(a)?a:getOffsetParent(a);var s=getRoot(t);return s.host?findCommonOffsetParent(s.host,e):findCommonOffsetParent(t,getRoot(e).host)}function getScroll(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var n=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||n)[e]}return t[e]}function includeScroll(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=getScroll(e,"top"),o=getScroll(e,"left"),i=r?-1:1;return t.top+=n*i,t.bottom+=n*i,t.left+=o*i,t.right+=o*i,t}function getBordersSize(t,e){var r="x"===e?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(t["border"+r+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function getSize(t,e,r,n){return Math.max(e["offset"+t],e["scroll"+t],r["client"+t],r["offset"+t],r["scroll"+t],isIE(10)?parseInt(r["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function getWindowSizes(t){var e=t.body,r=t.documentElement,n=isIE(10)&&getComputedStyle(r);return{height:getSize("Height",e,r,n),width:getSize("Width",e,r,n)}}var classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),defineProperty$1=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function getClientRect(t){return _extends({},t,{right:t.left+t.width,bottom:t.top+t.height})}function getBoundingClientRect(t){var e={};try{if(isIE(10)){e=t.getBoundingClientRect();var r=getScroll(t,"top"),n=getScroll(t,"left");e.top+=r,e.left+=n,e.bottom+=r,e.right+=n}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===t.nodeName?getWindowSizes(t.ownerDocument):{},a=i.width||t.clientWidth||o.right-o.left,s=i.height||t.clientHeight||o.bottom-o.top,p=t.offsetWidth-a,l=t.offsetHeight-s;if(p||l){var c=getStyleComputedProperty(t);p-=getBordersSize(c,"x"),l-=getBordersSize(c,"y"),o.width-=p,o.height-=l}return getClientRect(o)}function getOffsetRectRelativeToArbitraryNode(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=isIE(10),o="HTML"===e.nodeName,i=getBoundingClientRect(t),a=getBoundingClientRect(e),s=getScrollParent(t),p=getStyleComputedProperty(e),l=parseFloat(p.borderTopWidth,10),c=parseFloat(p.borderLeftWidth,10);r&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=getClientRect({top:i.top-a.top-l,left:i.left-a.left-c,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!n&&o){var u=parseFloat(p.marginTop,10),f=parseFloat(p.marginLeft,10);d.top-=l-u,d.bottom-=l-u,d.left-=c-f,d.right-=c-f,d.marginTop=u,d.marginLeft=f}return(n&&!r?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(d=includeScroll(d,e)),d}function getViewportOffsetRectRelativeToArtbitraryNode(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.ownerDocument.documentElement,n=getOffsetRectRelativeToArbitraryNode(t,r),o=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),a=e?0:getScroll(r),s=e?0:getScroll(r,"left");return getClientRect({top:a-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:o,height:i})}function isFixed(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===getStyleComputedProperty(t,"position"))return!0;var r=getParentNode(t);return!!r&&isFixed(r)}function getFixedPositionOffsetParent(t){if(!t||!t.parentElement||isIE())return document.documentElement;for(var e=t.parentElement;e&&"none"===getStyleComputedProperty(e,"transform");)e=e.parentElement;return e||document.documentElement}function getBoundaries(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?getFixedPositionOffsetParent(t):findCommonOffsetParent(t,e);if("viewport"===n)i=getViewportOffsetRectRelativeToArtbitraryNode(a,o);else{var s=void 0;"scrollParent"===n?"BODY"===(s=getScrollParent(getParentNode(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===n?t.ownerDocument.documentElement:n;var p=getOffsetRectRelativeToArbitraryNode(s,a,o);if("HTML"!==s.nodeName||isFixed(a))i=p;else{var l=getWindowSizes(t.ownerDocument),c=l.height,d=l.width;i.top+=p.top-p.marginTop,i.bottom=c+p.top,i.left+=p.left-p.marginLeft,i.right=d+p.left}}var u="number"==typeof(r=r||0);return i.left+=u?r:r.left||0,i.top+=u?r:r.top||0,i.right-=u?r:r.right||0,i.bottom-=u?r:r.bottom||0,i}function getArea(t){return t.width*t.height}function computeAutoPlacement(t,e,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=getBoundaries(r,n,i,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},p=Object.keys(s).map(function(t){return _extends({key:t},s[t],{area:getArea(s[t])})}).sort(function(t,e){return e.area-t.area}),l=p.filter(function(t){var e=t.width,n=t.height;return e>=r.clientWidth&&n>=r.clientHeight}),c=l.length>0?l[0].key:p[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function getReferenceOffsets(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(r,n?getFixedPositionOffsetParent(e):findCommonOffsetParent(e,r),n)}function getOuterSizes(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),r=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+n,height:t.offsetHeight+r}}function getOppositePlacement(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function getPopperOffsets(t,e,r){r=r.split("-")[0];var n=getOuterSizes(t),o={width:n.width,height:n.height},i=-1!==["right","left"].indexOf(r),a=i?"top":"left",s=i?"left":"top",p=i?"height":"width",l=i?"width":"height";return o[a]=e[a]+e[p]/2-n[p]/2,o[s]=r===s?e[s]-n[l]:e[getOppositePlacement(s)],o}function find(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function findIndex(t,e,r){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===r});var n=find(t,function(t){return t[e]===r});return t.indexOf(n)}function runModifiers(t,e,r){return(void 0===r?t:t.slice(0,findIndex(t,"name",r))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=t.function||t.fn;t.enabled&&isFunction$1(r)&&(e.offsets.popper=getClientRect(e.offsets.popper),e.offsets.reference=getClientRect(e.offsets.reference),e=r(e,t))}),e}function update(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=computeAutoPlacement(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=getPopperOffsets(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=runModifiers(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function isModifierEnabled(t,e){return t.some(function(t){var r=t.name;return t.enabled&&r===e})}function getSupportedPropertyName(t){for(var e=[!1,"ms","Webkit","Moz","O"],r=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var o=e[n],i=o?""+o+r:t;if(void 0!==document.body.style[i])return i}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(t){var e=t.ownerDocument;return e?e.defaultView:window}function attachToScrollParents(t,e,r,n){var o="BODY"===t.nodeName,i=o?t.ownerDocument.defaultView:t;i.addEventListener(e,r,{passive:!0}),o||attachToScrollParents(getScrollParent(i.parentNode),e,r,n),n.push(i)}function setupEventListeners(t,e,r,n){r.updateBound=n,getWindow(t).addEventListener("resize",r.updateBound,{passive:!0});var o=getScrollParent(t);return attachToScrollParents(o,"scroll",r.updateBound,r.scrollParents),r.scrollElement=o,r.eventsEnabled=!0,r}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function removeEventListeners(t,e){return getWindow(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=removeEventListeners(this.reference,this.state))}function isNumeric(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function setStyles(t,e){Object.keys(e).forEach(function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&isNumeric(e[r])&&(n="px"),t.style[r]=e[r]+n})}function setAttributes(t,e){Object.keys(e).forEach(function(r){!1!==e[r]?t.setAttribute(r,e[r]):t.removeAttribute(r)})}function applyStyle(t){return setStyles(t.instance.popper,t.styles),setAttributes(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&setStyles(t.arrowElement,t.arrowStyles),t}function applyStyleOnLoad(t,e,r,n,o){var i=getReferenceOffsets(o,e,t,r.positionFixed),a=computeAutoPlacement(r.placement,i,e,t,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return e.setAttribute("x-placement",a),setStyles(e,{position:r.positionFixed?"fixed":"absolute"}),r}function getRoundedOffsets(t,e){var r=t.offsets,n=r.popper,o=r.reference,i=Math.round,a=Math.floor,s=function(t){return t},p=i(o.width),l=i(n.width),c=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),u=e?c||d||p%2==l%2?i:a:s,f=e?i:s;return{left:u(p%2==1&&l%2==1&&!d&&e?n.left-1:n.left),top:f(n.top),bottom:f(n.bottom),right:u(n.right)}}var isFirefox=isBrowser&&/Firefox/i.test(navigator.userAgent);function computeStyle(t,e){var r=e.x,n=e.y,o=t.offsets.popper,i=find(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:e.gpuAcceleration,s=getOffsetParent(t.instance.popper),p=getBoundingClientRect(s),l={position:o.position},c=getRoundedOffsets(t,window.devicePixelRatio<2||!isFirefox),d="bottom"===r?"top":"bottom",u="right"===n?"left":"right",f=getSupportedPropertyName("transform"),m=void 0,h=void 0;if(h="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-p.height+c.bottom:c.top,m="right"===u?"HTML"===s.nodeName?-s.clientWidth+c.right:-p.width+c.right:c.left,a&&f)l[f]="translate3d("+m+"px, "+h+"px, 0)",l[d]=0,l[u]=0,l.willChange="transform";else{var g="bottom"===d?-1:1,y="right"===u?-1:1;l[d]=h*g,l[u]=m*y,l.willChange=d+", "+u}var b={"x-placement":t.placement};return t.attributes=_extends({},b,t.attributes),t.styles=_extends({},l,t.styles),t.arrowStyles=_extends({},t.offsets.arrow,t.arrowStyles),t}function isModifierRequired(t,e,r){var n=find(t,function(t){return t.name===e}),o=!!n&&t.some(function(t){return t.name===r&&t.enabled&&t.order<n.order});if(!o){var i="`"+e+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}function arrow(t,e){var r;if(!isModifierRequired(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],i=t.offsets,a=i.popper,s=i.reference,p=-1!==["left","right"].indexOf(o),l=p?"height":"width",c=p?"Top":"Left",d=c.toLowerCase(),u=p?"left":"top",f=p?"bottom":"right",m=getOuterSizes(n)[l];s[f]-m<a[d]&&(t.offsets.popper[d]-=a[d]-(s[f]-m)),s[d]+m>a[f]&&(t.offsets.popper[d]+=s[d]+m-a[f]),t.offsets.popper=getClientRect(t.offsets.popper);var h=s[d]+s[l]/2-m/2,g=getStyleComputedProperty(t.instance.popper),y=parseFloat(g["margin"+c],10),b=parseFloat(g["border"+c+"Width"],10),v=h-t.offsets.popper[d]-y-b;return v=Math.max(Math.min(a[l]-m,v),0),t.arrowElement=n,t.offsets.arrow=(defineProperty$1(r={},d,Math.round(v)),defineProperty$1(r,u,""),r),t}function getOppositeVariation(t){return"end"===t?"start":"start"===t?"end":t}var placements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],validPlacements=placements.slice(3);function clockwise(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=validPlacements.indexOf(t),n=validPlacements.slice(r+1).concat(validPlacements.slice(0,r));return e?n.reverse():n}var BEHAVIORS={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function flip(t,e){if(isModifierEnabled(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var r=getBoundaries(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],o=getOppositePlacement(n),i=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case BEHAVIORS.FLIP:a=[n,o];break;case BEHAVIORS.CLOCKWISE:a=clockwise(n);break;case BEHAVIORS.COUNTERCLOCKWISE:a=clockwise(n,!0);break;default:a=e.behavior}return a.forEach(function(s,p){if(n!==s||a.length===p+1)return t;n=t.placement.split("-")[0],o=getOppositePlacement(n);var l=t.offsets.popper,c=t.offsets.reference,d=Math.floor,u="left"===n&&d(l.right)>d(c.left)||"right"===n&&d(l.left)<d(c.right)||"top"===n&&d(l.bottom)>d(c.top)||"bottom"===n&&d(l.top)<d(c.bottom),f=d(l.left)<d(r.left),m=d(l.right)>d(r.right),h=d(l.top)<d(r.top),g=d(l.bottom)>d(r.bottom),y="left"===n&&f||"right"===n&&m||"top"===n&&h||"bottom"===n&&g,b=-1!==["top","bottom"].indexOf(n),v=!!e.flipVariations&&(b&&"start"===i&&f||b&&"end"===i&&m||!b&&"start"===i&&h||!b&&"end"===i&&g);(u||y||v)&&(t.flipped=!0,(u||y)&&(n=a[p+1]),v&&(i=getOppositeVariation(i)),t.placement=n+(i?"-"+i:""),t.offsets.popper=_extends({},t.offsets.popper,getPopperOffsets(t.instance.popper,t.offsets.reference,t.placement)),t=runModifiers(t.instance.modifiers,t,"flip"))}),t}function keepTogether(t){var e=t.offsets,r=e.popper,n=e.reference,o=t.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",p=a?"left":"top",l=a?"width":"height";return r[s]<i(n[p])&&(t.offsets.popper[p]=i(n[p])-r[l]),r[p]>i(n[s])&&(t.offsets.popper[p]=i(n[s])),t}function toValue(t,e,r,n){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=r;break;case"%":case"%r":default:s=n}return getClientRect(s)[e]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}function parseOffset(t,e,r,n){var o=[0,0],i=-1!==["right","left"].indexOf(n),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(find(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var p=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(p)[0]]),[a[s].split(p)[1]].concat(a.slice(s+1))]:[a];return(l=l.map(function(t,n){var o=(1===n?!i:i)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return toValue(t,o,e,r)})})).forEach(function(t,e){t.forEach(function(r,n){isNumeric(r)&&(o[e]+=r*("-"===t[n-1]?-1:1))})}),o}function offset(t,e){var r=e.offset,n=t.placement,o=t.offsets,i=o.popper,a=o.reference,s=n.split("-")[0],p=void 0;return p=isNumeric(+r)?[+r,0]:parseOffset(r,i,a,s),"left"===s?(i.top+=p[0],i.left-=p[1]):"right"===s?(i.top+=p[0],i.left+=p[1]):"top"===s?(i.left+=p[0],i.top-=p[1]):"bottom"===s&&(i.left+=p[0],i.top+=p[1]),t.popper=i,t}function preventOverflow(t,e){var r=e.boundariesElement||getOffsetParent(t.instance.popper);t.instance.reference===r&&(r=getOffsetParent(r));var n=getSupportedPropertyName("transform"),o=t.instance.popper.style,i=o.top,a=o.left,s=o[n];o.top="",o.left="",o[n]="";var p=getBoundaries(t.instance.popper,t.instance.reference,e.padding,r,t.positionFixed);o.top=i,o.left=a,o[n]=s,e.boundaries=p;var l=e.priority,c=t.offsets.popper,d={primary:function(t){var r=c[t];return c[t]<p[t]&&!e.escapeWithReference&&(r=Math.max(c[t],p[t])),defineProperty$1({},t,r)},secondary:function(t){var r="right"===t?"left":"top",n=c[r];return c[t]>p[t]&&!e.escapeWithReference&&(n=Math.min(c[r],p[t]-("right"===t?c.width:c.height))),defineProperty$1({},r,n)}};return l.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=_extends({},c,d[e](t))}),t.offsets.popper=c,t}function shift(t){var e=t.placement,r=e.split("-")[0],n=e.split("-")[1];if(n){var o=t.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(r),p=s?"left":"top",l=s?"width":"height",c={start:defineProperty$1({},p,i[p]),end:defineProperty$1({},p,i[p]+i[l]-a[l])};t.offsets.popper=_extends({},a,c[n])}return t}function hide(t){if(!isModifierRequired(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,r=find(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<r.top||e.left>r.right||e.top>r.bottom||e.right<r.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function inner(t){var e=t.placement,r=e.split("-")[0],n=t.offsets,o=n.popper,i=n.reference,a=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return o[a?"left":"top"]=i[r]-(s?o[a?"width":"height"]:0),t.placement=getOppositePlacement(e),t.offsets.popper=getClientRect(o),t}var modifiers={shift:{order:100,enabled:!0,fn:shift},offset:{order:200,enabled:!0,fn:offset,offset:0},preventOverflow:{order:300,enabled:!0,fn:preventOverflow,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:keepTogether},arrow:{order:500,enabled:!0,fn:arrow,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:flip,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:inner},hide:{order:800,enabled:!0,fn:hide},computeStyle:{order:850,enabled:!0,fn:computeStyle,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:applyStyle,onLoad:applyStyleOnLoad,gpuAcceleration:void 0}},Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:modifiers},Popper=function(){function t(e,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};classCallCheck(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=debounce(this.update.bind(this)),this.options=_extends({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(_extends({},t.Defaults.modifiers,o.modifiers)).forEach(function(e){n.options.modifiers[e]=_extends({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return _extends({name:t},n.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&isFunction$1(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return createClass(t,[{key:"update",value:function(){return update.call(this)}},{key:"destroy",value:function(){return destroy.call(this)}},{key:"enableEventListeners",value:function(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function(){return disableEventListeners.call(this)}}]),t}();Popper.Utils=("undefined"!=typeof window?window:global).PopperUtils,Popper.placements=placements,Popper.Defaults=Defaults;var css='.tippy-iOS{cursor:pointer!important}.tippy-notransition{transition:none}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px) rotateX(0);transform:perspective(700px) translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateY(0) rotateX(60deg);transform:perspective(700px) translateY(0) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px) rotateX(0);transform:perspective(700px) translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateY(0) rotateX(-60deg);transform:perspective(700px) translateY(0) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px) rotateY(0);transform:perspective(700px) translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateX(0) rotateY(-60deg);transform:perspective(700px) translateX(0) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px) rotateY(0);transform:perspective(700px) translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateX(0) rotateY(60deg);transform:perspective(700px) translateX(0) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=visible]{opacity:1}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}';function _extends$1(){return(_extends$1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var version="4.2.0",isBrowser$1="undefined"!=typeof window&&"undefined"!=typeof document,ua=isBrowser$1?navigator.userAgent:"",isIE$1=/MSIE |Trident\//.test(ua),isUCBrowser=/UCBrowser\//.test(ua),isIOS=isBrowser$1&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,defaultProps={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",updateDuration:0,wait:null,zIndex:9999},POPPER_INSTANCE_DEPENDENCIES=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],Selectors={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow"},elementProto=isBrowser$1?Element.prototype:{},matches=elementProto.matches||elementProto.matchesSelector||elementProto.webkitMatchesSelector||elementProto.mozMatchesSelector||elementProto.msMatchesSelector;function arrayFrom(t){return[].slice.call(t)}function closest(t,e){return(elementProto.closest||function(t){for(var e=this;e;){if(matches.call(e,t))return e;e=e.parentElement}}).call(t,e)}function closestCallback(t,e){for(;t;){if(e(t))return t;t=t.parentElement}}var PASSIVE={passive:!0},PADDING=4,keys$1=Object.keys(defaultProps);function getDataAttributeOptions(t){return keys$1.reduce(function(e,r){var n=(t.getAttribute("data-tippy-".concat(r))||"").trim();if(!n)return e;if("content"===r)e[r]=n;else try{e[r]=JSON.parse(n)}catch(t){e[r]=n}return e},{})}function polyfillElementPrototypeProperties(t){var e={isVirtual:!0,attributes:t.attributes||{},setAttribute:function(e,r){t.attributes[e]=r},getAttribute:function(e){return t.attributes[e]},removeAttribute:function(e){delete t.attributes[e]},hasAttribute:function(e){return e in t.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(e){t.classList.classNames[e]=!0},remove:function(e){delete t.classList.classNames[e]},contains:function(e){return e in t.classList.classNames}}};for(var r in e)t[r]=e[r]}function isBareVirtualElement(t){return"[object Object]"==={}.toString.call(t)&&!t.addEventListener}function hasOwnProperty$8(t,e){return{}.hasOwnProperty.call(t,e)}function getArrayOfElements(t){if(isSingular(t))return[t];if(t instanceof NodeList)return arrayFrom(t);if(Array.isArray(t))return t;try{return arrayFrom(document.querySelectorAll(t))}catch(t){return[]}}function getValue$1(t,e,r){if(Array.isArray(t)){var n=t[e];return null==n?r:n}return t}function debounce$1(t,e){var r;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return t.apply(n,o)},e)}}function getModifier(t,e){return t&&t.modifiers&&t.modifiers[e]}function includes(t,e){return t.indexOf(e)>-1}function isSingular(t){return!(!t||!hasOwnProperty$8(t,"isVirtual"))||t instanceof Element}function innerHTML(){return"innerHTML"}function evaluateValue(t,e){return"function"==typeof t?t.apply(null,e):t}function setFlipModifierEnabled(t,e){t.filter(function(t){return"flip"===t.name})[0].enabled=e}function canReceiveFocus(t){return!(t instanceof Element)||matches.call(t,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!t.hasAttribute("disabled")}function div(){return document.createElement("div")}function evaluateProps(t,e){var r=_extends$1({},e,{content:evaluateValue(e.content,[t])},e.ignoreAttributes?{}:getDataAttributeOptions(t));return(r.arrow||isUCBrowser)&&(r.animateFill=!1),r}function validateOptions(t,e){Object.keys(t).forEach(function(t){if(!hasOwnProperty$8(e,t))throw new Error("[tippy]: `".concat(t,"` is not a valid option"))})}function setInnerHTML(t,e){t[innerHTML()]=e instanceof Element?e[innerHTML()]:e}function setContent(t,e){if(e.content instanceof Element)setInnerHTML(t,""),t.appendChild(e.content);else if("function"!=typeof e.content){t[e.allowHTML?"innerHTML":"textContent"]=e.content}}function getChildren(t){return{tooltip:t.querySelector(Selectors.TOOLTIP),backdrop:t.querySelector(Selectors.BACKDROP),content:t.querySelector(Selectors.CONTENT),arrow:t.querySelector(Selectors.ARROW)||t.querySelector(Selectors.ROUND_ARROW)}}function addInertia(t){t.setAttribute("data-inertia","")}function removeInertia(t){t.removeAttribute("data-inertia")}function createArrowElement(t){var e=div();return"round"===t?(e.className="tippy-roundarrow",setInnerHTML(e,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):e.className="tippy-arrow",e}function createBackdropElement(){var t=div();return t.className="tippy-backdrop",t.setAttribute("data-state","hidden"),t}function addInteractive(t,e){t.setAttribute("tabindex","-1"),e.setAttribute("data-interactive","")}function removeInteractive(t,e){t.removeAttribute("tabindex"),e.removeAttribute("data-interactive")}function applyTransitionDuration(t,e){t.forEach(function(t){t&&(t.style.transitionDuration="".concat(e,"ms"))})}function toggleTransitionEndListener(t,e,r){var n=isUCBrowser&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";t[e+"EventListener"](n,r)}function getPopperPlacement(t){var e=t.getAttribute("x-placement");return e?e.split("-")[0]:""}function setVisibilityState(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function reflow(t){t.offsetHeight}function toggleTheme(t,e,r){r.split(" ").forEach(function(r){t.classList[e](r+"-theme")})}function createPopperElement(t,e){var r=div();r.className="tippy-popper",r.id="tippy-".concat(t),r.style.zIndex=""+e.zIndex,e.role&&r.setAttribute("role",e.role);var n=div();n.className="tippy-tooltip",n.style.maxWidth=e.maxWidth+("number"==typeof e.maxWidth?"px":""),n.setAttribute("data-size",e.size),n.setAttribute("data-animation",e.animation),n.setAttribute("data-state","hidden"),toggleTheme(n,"add",e.theme);var o=div();return o.className="tippy-content",o.setAttribute("data-state","hidden"),e.interactive&&addInteractive(r,n),e.arrow&&n.appendChild(createArrowElement(e.arrowType)),e.animateFill&&(n.appendChild(createBackdropElement()),n.setAttribute("data-animatefill","")),e.inertia&&addInertia(n),setContent(o,e),n.appendChild(o),r.appendChild(n),r}function updatePopperElement(t,e,r){var n=getChildren(t),o=n.tooltip,i=n.content,a=n.backdrop,s=n.arrow;t.style.zIndex=""+r.zIndex,o.setAttribute("data-size",r.size),o.setAttribute("data-animation",r.animation),o.style.maxWidth=r.maxWidth+("number"==typeof r.maxWidth?"px":""),r.role?t.setAttribute("role",r.role):t.removeAttribute("role"),e.content!==r.content&&setContent(i,r),!e.animateFill&&r.animateFill?(o.appendChild(createBackdropElement()),o.setAttribute("data-animatefill","")):e.animateFill&&!r.animateFill&&(o.removeChild(a),o.removeAttribute("data-animatefill")),!e.arrow&&r.arrow?o.appendChild(createArrowElement(r.arrowType)):e.arrow&&!r.arrow&&o.removeChild(s),e.arrow&&r.arrow&&e.arrowType!==r.arrowType&&o.replaceChild(createArrowElement(r.arrowType),s),!e.interactive&&r.interactive?addInteractive(t,o):e.interactive&&!r.interactive&&removeInteractive(t,o),!e.inertia&&r.inertia?addInertia(o):e.inertia&&!r.inertia&&removeInertia(o),e.theme!==r.theme&&(toggleTheme(o,"remove",e.theme),toggleTheme(o,"add",r.theme))}function afterPopperPositionUpdates(t,e){var r=t.popper,n=t.options,o=n.onCreate,i=n.onUpdate;n.onCreate=n.onUpdate=function(t){reflow(r),e(),i&&i(t),n.onCreate=o,n.onUpdate=i}}function hideAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.checkHideOnClick,r=t.exclude,n=t.duration;arrayFrom(document.querySelectorAll(Selectors.POPPER)).forEach(function(t){var o=t._tippy;!o||e&&!0!==o.props.hideOnClick||r&&t===r.popper||o.hide(n)})}function isCursorOutsideInteractiveBorder(t,e,r,n){if(!t)return!0;var o=r.clientX,i=r.clientY,a=n.interactiveBorder,s=n.distance,p=e.top-i>("top"===t?a+s:a),l=i-e.bottom>("bottom"===t?a+s:a),c=e.left-o>("left"===t?a+s:a),d=o-e.right>("right"===t?a+s:a);return p||l||c||d}function getOffsetDistanceInPx(t){return-(t-10)+"px"}var isUsingTouch=!1;function onDocumentTouch(){isUsingTouch||(isUsingTouch=!0,isIOS&&document.body.classList.add("tippy-iOS"),window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}var lastMouseMoveTime=0;function onDocumentMouseMove(){var t=performance.now();t-lastMouseMoveTime<20&&(isUsingTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove),isIOS||document.body.classList.remove("tippy-iOS")),lastMouseMoveTime=t}function onDocumentClick(t){if(!(t.target instanceof Element))return hideAll();var e=closest(t.target,Selectors.POPPER);if(!(e&&e._tippy&&e._tippy.props.interactive)){var r=closestCallback(t.target,function(t){return t._tippy&&t._tippy.reference===t});if(r){var n=r._tippy;if(n){var o=includes(n.props.trigger||"","click");if(isUsingTouch||o)return hideAll({exclude:n,checkHideOnClick:!0});if(!0!==n.props.hideOnClick||o)return;n.clearDelayTimeouts()}}hideAll({checkHideOnClick:!0})}}function onWindowBlur(){var t=document.activeElement;t&&t.blur&&t._tippy&&t.blur()}function bindGlobalEventListeners(){document.addEventListener("click",onDocumentClick,!0),document.addEventListener("touchstart",onDocumentTouch,PASSIVE),window.addEventListener("blur",onWindowBlur)}var idCounter=1;function createTippy(t,e){var r,n,o,i,a,s=evaluateProps(t,e);if(!s.multiple&&t._tippy)return null;var p,l,c=!1,d=[],u=s.interactiveDebounce>0?debounce$1(x,s.interactiveDebounce):x,f=idCounter++,m=createPopperElement(f,s),h={id:f,reference:t,popper:m,popperChildren:getChildren(m),popperInstance:null,props:s,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:j,set:N,setContent:function(t){N({content:t})},show:F,hide:D,enable:function(){h.state.isEnabled=!0},disable:function(){h.state.isEnabled=!1},destroy:B};return I(),s.lazy||(A(),h.popperInstance.disableEventListeners()),s.showOnInit&&y(),!s.a11y||s.target||canReceiveFocus(t)||t.setAttribute("tabindex","0"),m.addEventListener("mouseenter",function(t){h.props.interactive&&h.state.isVisible&&"mouseenter"===r&&y(t)}),m.addEventListener("mouseleave",function(){h.props.interactive&&"mouseenter"===r&&document.addEventListener("mousemove",u)}),t._tippy=h,m._tippy=h,h;function g(t){var e=n=t,r=e.clientX,o=e.clientY;if(h.popperInstance){var i=getPopperPlacement(h.popper),a=h.props.arrow?PADDING+("round"===h.props.arrowType?18:16):PADDING,s=includes(["top","bottom"],i),p=includes(["left","right"],i),l=s?Math.max(a,r):r,c=p?Math.max(a,o):o;s&&l>a&&(l=Math.min(r,window.innerWidth-a)),p&&c>a&&(c=Math.min(o,window.innerHeight-a));var d=h.reference.getBoundingClientRect(),u=h.props.followCursor,f="horizontal"===u,m="vertical"===u;h.popperInstance.reference=_extends$1({},h.popperInstance.reference,{getBoundingClientRect:function(){return{width:0,height:0,top:f?d.top:c,bottom:f?d.bottom:c,left:m?d.left:l,right:m?d.right:l}},clientWidth:0,clientHeight:0}),h.popperInstance.scheduleUpdate(),"initial"===u&&h.state.isVisible&&v()}}function y(t){if(j(),!h.state.isVisible){if(h.props.target)return function(t){if(t){var r=closest(t.target,h.props.target);r&&!r._tippy&&(createTippy(r,_extends$1({},h.props,{content:evaluateValue(e.content,[r]),appendTo:e.appendTo,target:"",showOnInit:!0})),y(t))}}(t);if(c=!0,h.props.wait)return h.props.wait(h,t);C()&&!h.state.isMounted&&document.addEventListener("mousemove",g);var r=getValue$1(h.props.delay,0,defaultProps.delay);r?o=setTimeout(function(){F()},r):F()}}function b(){if(j(),!h.state.isVisible)return v();c=!1;var t=getValue$1(h.props.delay,1,defaultProps.delay);t?i=setTimeout(function(){h.state.isVisible&&D()},t):a=requestAnimationFrame(function(){D()})}function v(){document.removeEventListener("mousemove",g)}function w(){document.body.removeEventListener("mouseleave",b),document.removeEventListener("mousemove",u)}function T(t){h.state.isEnabled&&!k(t)&&(h.state.isVisible||(r=t.type,t instanceof MouseEvent&&(n=t)),"click"===t.type&&!1!==h.props.hideOnClick&&h.state.isVisible?b():y(t))}function x(t){var e=closestCallback(t.target,function(t){return t._tippy}),r=closest(t.target,Selectors.POPPER)===h.popper,n=e===h.reference;r||n||isCursorOutsideInteractiveBorder(getPopperPlacement(h.popper),h.popper.getBoundingClientRect(),t,h.props)&&(w(),b())}function O(t){if(!k(t))return h.props.interactive?(document.body.addEventListener("mouseleave",b),void document.addEventListener("mousemove",u)):void b()}function S(t){t.target===h.reference&&(h.props.interactive&&t.relatedTarget&&h.popper.contains(t.relatedTarget)||b())}function E(t){closest(t.target,h.props.target)&&y(t)}function P(t){closest(t.target,h.props.target)&&b()}function k(t){var e="ontouchstart"in window,r=includes(t.type,"touch"),n=h.props.touchHold;return e&&isUsingTouch&&n&&!r||isUsingTouch&&!n&&r}function A(){var t=h.props.popperOptions,e=h.popperChildren,r=e.tooltip,n=e.arrow,o=getModifier(t,"preventOverflow");function i(t){h.props.flip&&!h.props.flipOnUpdate&&(t.flipped&&(h.popperInstance.options.placement=t.placement),setFlipModifierEnabled(h.popperInstance.modifiers,!1)),r.setAttribute("x-placement",t.placement);var e=getPopperPlacement(h.popper),n=r.style;n.top=n.bottom=n.left=n.right="",n[e]=getOffsetDistanceInPx(h.props.distance);var i=o&&void 0!==o.padding?o.padding:PADDING,a="number"==typeof i,s=_extends$1({top:a?i:i.top,bottom:a?i:i.bottom,left:a?i:i.left,right:a?i:i.right},!a&&i);s[e]=a?i+h.props.distance:(i[e]||0)+h.props.distance,h.popperInstance.modifiers.filter(function(t){return"preventOverflow"===t.name})[0].padding=s}var a=_extends$1({placement:h.props.placement},t,{modifiers:_extends$1({},t?t.modifiers:{},{preventOverflow:_extends$1({boundariesElement:h.props.boundary,padding:PADDING},o),arrow:_extends$1({element:n,enabled:!!n},getModifier(t,"arrow")),flip:_extends$1({enabled:h.props.flip,padding:h.props.distance+PADDING,behavior:h.props.flipBehavior},getModifier(t,"flip")),offset:_extends$1({offset:h.props.offset},getModifier(t,"offset"))}),onCreate:function(e){i(e),t&&t.onCreate&&t.onCreate(e)},onUpdate:function(e){i(e),t&&t.onUpdate&&t.onUpdate(e)}});h.popperInstance=new Popper(h.reference,h.popper,a)}function C(){return h.props.followCursor&&!isUsingTouch&&"focus"!==r}function M(t,e){var r=h.popperChildren.tooltip;function n(t){t.target===r&&(toggleTransitionEndListener(r,"remove",n),e())}if(0===t)return e();toggleTransitionEndListener(r,"remove",p),toggleTransitionEndListener(r,"add",n),p=n}function L(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h.reference.addEventListener(t,e,r),d.push({eventType:t,handler:e,options:r})}function I(){h.props.touchHold&&!h.props.target&&(L("touchstart",T,PASSIVE),L("touchend",O,PASSIVE)),h.props.trigger.trim().split(" ").forEach(function(t){if("manual"!==t)if(h.props.target)switch(t){case"mouseenter":L("mouseover",E),L("mouseout",P);break;case"focus":L("focusin",E),L("focusout",P);break;case"click":L(t,E)}else switch(L(t,T),t){case"mouseenter":L("mouseleave",O);break;case"focus":L(isIE$1?"focusout":"blur",S)}})}function _(){d.forEach(function(t){var e=t.eventType,r=t.handler,n=t.options;h.reference.removeEventListener(e,r,n)}),d=[]}function $(){return[h.popperChildren.tooltip,h.popperChildren.backdrop,h.popperChildren.content]}function j(){clearTimeout(o),clearTimeout(i),cancelAnimationFrame(a)}function N(t){validateOptions(t=t||{},defaultProps);var e=h.props,r=evaluateProps(h.reference,_extends$1({},h.props,t,{ignoreAttributes:!0}));r.ignoreAttributes=hasOwnProperty$8(t,"ignoreAttributes")?t.ignoreAttributes||!1:e.ignoreAttributes,h.props=r,(hasOwnProperty$8(t,"trigger")||hasOwnProperty$8(t,"touchHold"))&&(_(),I()),hasOwnProperty$8(t,"interactiveDebounce")&&(w(),u=debounce$1(x,t.interactiveDebounce||0)),updatePopperElement(h.popper,e,r),h.popperChildren=getChildren(h.popper),h.popperInstance&&(h.popperInstance.update(),POPPER_INSTANCE_DEPENDENCIES.some(function(e){return hasOwnProperty$8(t,e)})&&(h.popperInstance.destroy(),A(),h.state.isVisible||h.popperInstance.disableEventListeners(),h.props.followCursor&&n&&g(n)))}function F(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getValue$1(h.props.duration,0,defaultProps.duration[1]);if(!h.state.isDestroyed&&h.state.isEnabled&&(!isUsingTouch||h.props.touch))return hasOwnProperty$8(h.reference,"isVirtual")||document.documentElement.contains(h.reference)?void(h.reference.hasAttribute("disabled")||!1!==h.props.onShow(h)&&(h.popper.style.visibility="visible",h.state.isVisible=!0,h.props.interactive&&h.reference.classList.add("tippy-active"),applyTransitionDuration([h.popper,h.popperChildren.tooltip,h.popperChildren.backdrop],0),function(t){var e=!(C()||"initial"===h.props.followCursor&&isUsingTouch);h.popperInstance?(C()||(h.popperInstance.scheduleUpdate(),e&&h.popperInstance.enableEventListeners()),setFlipModifierEnabled(h.popperInstance.modifiers,h.props.flip)):(A(),e||h.popperInstance.disableEventListeners()),h.popperInstance.reference=h.reference;var r=h.popperChildren.arrow;C()?(r&&(r.style.margin="0"),n&&g(n)):r&&(r.style.margin=""),isUsingTouch&&n&&"initial"===h.props.followCursor&&(g(n),r&&(r.style.margin="0")),afterPopperPositionUpdates(h.popperInstance,t);var o=h.props.appendTo;(l="parent"===o?h.reference.parentNode:evaluateValue(o,[h.reference])).contains(h.popper)||(l.appendChild(h.popper),h.props.onMount(h),h.state.isMounted=!0)}(function(){h.state.isVisible&&(C()||h.popperInstance.update(),applyTransitionDuration([h.popper],s.updateDuration),applyTransitionDuration($(),t),h.popperChildren.backdrop&&(h.popperChildren.content.style.transitionDelay=Math.round(t/12)+"ms"),h.props.sticky&&(applyTransitionDuration([h.popper],isIE$1?0:h.props.updateDuration),function t(){h.popperInstance&&h.popperInstance.scheduleUpdate(),h.state.isMounted?requestAnimationFrame(t):applyTransitionDuration([h.popper],0)}()),setVisibilityState($(),"visible"),function(t,e){M(t,e)}(t,function(){h.popperChildren.tooltip.classList.add("tippy-notransition"),h.props.aria&&h.reference.setAttribute("aria-".concat(h.props.aria),h.popper.id),h.props.onShown(h),h.state.isShown=!0}))}))):B()}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getValue$1(h.props.duration,1,defaultProps.duration[1]);!h.state.isDestroyed&&h.state.isEnabled&&!1!==h.props.onHide(h)&&(h.popperChildren.tooltip.classList.remove("tippy-notransition"),h.props.interactive&&h.reference.classList.remove("tippy-active"),h.popper.style.visibility="hidden",h.state.isVisible=!1,h.state.isShown=!1,applyTransitionDuration($(),t),setVisibilityState($(),"hidden"),function(t,e){M(t,function(){!h.state.isVisible&&l&&l.contains(h.popper)&&e()})}(t,function(){c||v(),h.props.aria&&h.reference.removeAttribute("aria-".concat(h.props.aria)),h.popperInstance.disableEventListeners(),h.popperInstance.options.placement=h.props.placement,l.removeChild(h.popper),h.props.onHidden(h),h.state.isMounted=!1}))}function B(t){h.state.isDestroyed||(h.state.isMounted&&D(0),_(),delete h.reference._tippy,h.props.target&&t&&arrayFrom(h.reference.querySelectorAll(h.props.target)).forEach(function(t){t._tippy&&t._tippy.destroy()}),h.popperInstance&&h.popperInstance.destroy(),h.state.isDestroyed=!0)}}function group(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.delay,n=void 0===r?t[0].props.delay:r,o=e.duration,i=void 0===o?0:o;if(!t.some(function(t){return hasOwnProperty$8(t,"_originalProps")})){var a=!1;t.forEach(function(t){t._originalProps=_extends$1({},t.props)}),d()}function s(t){a=t,d()}function p(e){e._originalProps.onShow(e),t.forEach(function(t){t.set({duration:i}),t.hide()}),s(!0)}function l(t){t._originalProps.onHide(t),s(!1)}function c(t){t._originalProps.onShown(t),t.set({duration:t._originalProps.duration})}function d(){t.forEach(function(t){t.set({onShow:p,onShown:c,onHide:l,delay:a?[0,Array.isArray(n)?n[1]:n]:n,duration:a?i:t._originalProps.duration})})}}var globalEventListenersBound=!1;function tippy(t,e){validateOptions(e||{},defaultProps),globalEventListenersBound||(bindGlobalEventListeners(),globalEventListenersBound=!0);var r=_extends$1({},defaultProps,e);isBareVirtualElement(t)&&polyfillElementPrototypeProperties(t);var n=getArrayOfElements(t).reduce(function(t,e){var n=e&&createTippy(e,r);return n&&t.push(n),t},[]);return isSingular(t)?n[0]:n}function autoInit(){arrayFrom(document.querySelectorAll("[data-tippy]")).forEach(function(t){var e=t.getAttribute("data-tippy");e&&tippy(t,{content:e})})}function injectCSS(t){if(isBrowser$1){var e=document.createElement("style");e.type="text/css",e.textContent=t;var r=document.head,n=r.firstChild;n?r.insertBefore(e,n):r.appendChild(e)}}tippy.version=version,tippy.defaults=defaultProps,tippy.setDefaults=function(t){Object.keys(t).forEach(function(e){defaultProps[e]=t[e]})},tippy.hideAll=hideAll,tippy.group=group,isBrowser$1&&setTimeout(autoInit),injectCSS(css);const missingTippy="Using the attachment feature of Shepherd requires the Tippy.js library",centeredStylePopperModifier={computeStyle:{enabled:!0,fn:t=>(t.styles=Object.assign({},t.styles,{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}),t)}},defaultPopperOptions={positionFixed:!0};function createFromHTML(t){const e=document.createElement("div");return e.innerHTML=t,e.children[0]}function _parseAttachToOpts(t){if(isObjectLike(t))return t.hasOwnProperty("element")&&t.hasOwnProperty("on")?t:null;const e=/^(.+) ((auto|top|left|right|bottom)(-start|-end)?)$/.exec(t);return e?{element:e[1],on:e[2]}:null}function parseShorthand(t,e){if(null===t||isUndefined(t))return t;if(isObjectLike(t))return t;return zipObject(e,t.split(" "))}function setupTooltip(){if(isUndefined(tippy))throw new Error(missingTippy);this.tooltip&&this.tooltip.destroy();const t=this.parseAttachTo();this.tooltip=_makeTippyInstance.call(this,t),this.target=t.element||document.body,this.el.classList.add("shepherd-element")}function parseAttachTo(){const t=_parseAttachToOpts(this.options.attachTo)||{},e=Object.assign({},t);if(isString(t.element)){try{e.element=document.querySelector(t.element)}catch(t){}e.element||console.error(`The element for this Shepherd step was not found ${t.element}`)}return e}function _makeTippyInstance(t){if(!t.element)return _makeCenteredTippy.call(this);const e=_makeAttachedTippyOptions.call(this,t);return tippy(t.element,e)}function _makeAttachedTippyOptions(t){const e={content:this.el,flipOnUpdate:!0,placement:t.on||"right"};if(Object.assign(e,this.options.tippyOptions),this.options.title){const t=e.theme;e.theme=t?`${t} shepherd-has-title`:"shepherd-has-title"}return this.options.tippyOptions&&this.options.tippyOptions.popperOptions&&Object.assign(defaultPopperOptions,this.options.tippyOptions.popperOptions),e.popperOptions=defaultPopperOptions,e}function _makeCenteredTippy(){const t=_objectSpread({content:this.el,placement:"top"},this.options.tippyOptions);t.arrow=!1,t.popperOptions=t.popperOptions||{};const e=Object.assign({},defaultPopperOptions,t.popperOptions,{modifiers:Object.assign(centeredStylePopperModifier,t.popperOptions.modifiers)});return t.popperOptions=e,tippy(document.body,t)}function _setupAdvanceOnHandler(t){return e=>{if(this.isOpen()){const r=this.el&&e.target===this.el;(!isUndefined(t)&&e.target.matches(t)||r)&&this.tour.next()}}}function bindAdvance(){const t=parseShorthand(this.options.advanceOn,["selector","event"]),e=t.event,r=t.selector,n=_setupAdvanceOnHandler.call(this,r),o=document.querySelector(r);!isUndefined(r)&&o?o.addEventListener(e,n):document.body.addEventListener(e,n,!0),this.on("destroy",()=>document.body.removeEventListener(e,n,!0))}function bindButtonEvents(t,e){t.events=t.events||{},isUndefined(t.action)||(t.events.click=t.action),forOwn(t.events,(t,r)=>{if(isString(t)){const e=t;t=(()=>this.tour.show(e))}e.dataset.buttonEvent=!0,e.addEventListener(r,t),this.on("destroy",()=>{e.removeAttribute("data-button-event"),e.removeEventListener(r,t)})})}function bindCancelLink(t){t.addEventListener("click",t=>{t.preventDefault(),this.cancel()})}function bindMethods(t){t.map(t=>{this[t]=this[t].bind(this)})}const uniqueId=function(){let t=0;return function(){return++t}}();class Step extends Evented{constructor(t,e){return super(t,e),this.tour=t,bindMethods.call(this,["_show","cancel","complete","destroy","hide","isOpen","scrollTo","setupElements","show"]),this.setOptions(e),this.bindAdvance=bindAdvance.bind(this),this.bindButtonEvents=bindButtonEvents.bind(this),this.bindCancelLink=bindCancelLink.bind(this),this.setupTooltip=setupTooltip.bind(this),this.parseAttachTo=parseAttachTo.bind(this),this}_addButtons(t){if(!isEmpty(this.options.buttons)){const e=document.createElement("footer"),r=createFromHTML('<ul class="shepherd-buttons"></ul>');e.classList.add("shepherd-footer"),this.options.buttons.map(t=>{const e=createFromHTML(`<li><a class="shepherd-button ${t.classes||""}" tabindex="0">${t.text}</a>`);r.appendChild(e),this.bindButtonEvents(t,e.querySelector("a"))}),e.appendChild(r),t.appendChild(e)}}_addCancelLink(t,e){if(this.options.showCancelLink){const r=createFromHTML('<a href class="shepherd-cancel-link"></a>');e.appendChild(r),t.classList.add("shepherd-has-cancel-link"),this.bindCancelLink(r)}}_addContent(t){const e=createFromHTML('<div class="shepherd-text"></div>');let r=this.options.text;isFunction(r)&&(r=r.call(this,e)),r instanceof HTMLElement?e.appendChild(r):(isString(r)&&(r=[r]),r.map(t=>{e.innerHTML+=`<p>${t}</p>`})),t.appendChild(e)}_createTooltipContent(){const t=document.createElement("div"),e=createFromHTML(`<div class="${this.options.classes||""}" data-shepherd-step-id="${this.id}">`),r=document.createElement("header");if(this.options.title){const t=document.createElement("h3");t.classList.add("shepherd-title"),t.innerHTML=`${this.options.title}`,r.appendChild(t),e.classList.add("shepherd-has-title")}return t.classList.add("shepherd-content"),r.classList.add("shepherd-header"),e.appendChild(t),t.appendChild(r),isUndefined(this.options.text)||this._addContent(t),this._addButtons(t),this._addCancelLink(e,r),e}getTour(){return this.tour}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),isElement(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=null),this.target&&this._updateStepTargetOnHide(),this.trigger("destroy")}hide(){this.tour.modal.hide(),this.trigger("before-hide"),document.body.removeAttribute("data-shepherd-step"),this.target&&this._updateStepTargetOnHide(),this.tooltip&&this.tooltip.hide(),this.trigger("hide")}isOpen(){return Boolean(this.tooltip&&this.tooltip.state&&this.tooltip.state.isVisible)}setupElements(){isUndefined(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&this.bindAdvance(),this.setupTooltip()}scrollTo(){const t=this.parseAttachTo().element;isFunction(this.options.scrollToHandler)?this.options.scrollToHandler(t):isElement(t)&&t.scrollIntoView()}setOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t;const e=this.options.when;this.destroy(),this.id=this.options.id||`step-${uniqueId()}`,forOwn(e,(t,e)=>{this.on(e,t,this)})}show(){if(isFunction(this.options.beforeShowPromise)){const t=this.options.beforeShowPromise();if(!isUndefined(t))return t.then(()=>this._show())}this._show()}_show(){this.tour.beforeShowStep(this),this.trigger("before-show"),this.el||this.setupElements(),this.target.classList.add("shepherd-enabled","shepherd-target"),document.body.setAttribute("data-shepherd-step",this.id),this.options.scrollTo&&setTimeout(()=>{this.scrollTo()}),this.tooltip.show(),this.trigger("show")}_updateStepTargetOnHide(){this.options.highlightClass&&this.target.classList.remove(this.options.highlightClass),this.target.classList.remove("shepherd-enabled","shepherd-target")}}var numberTag$1="[object Number]";function isNumber(t){return"number"==typeof t||isObjectLike(t)&&baseGetTag(t)==numberTag$1}const svgNS="http://www.w3.org/2000/svg",elementIds={modalOverlay:"shepherdModalOverlayContainer",modalOverlayMask:"shepherdModalMask",modalOverlayMaskRect:"shepherdModalMaskRect",modalOverlayMaskOpening:"shepherdModalMaskOpening"},classNames={isVisible:"shepherd-modal-is-visible",modalTarget:"shepherd-modal-target"};function _createModalContainer(){const t=document.createElementNS(svgNS,"svg");return t.setAttributeNS(null,"id",elementIds.modalOverlay),t}function _createMaskContainer(){const t=document.createElementNS(svgNS,"mask");return _setAttributes(t,{height:"100%",id:elementIds.modalOverlayMask,width:"100%",x:"0",y:"0"}),t}function _createMaskRect(){const t=document.createElementNS(svgNS,"rect");return _setAttributes(t,{fill:"#FFFFFF",height:"100%",id:elementIds.modalOverlayMaskRect,width:"100%",x:"0",y:"0"}),t}function _createMaskOpening(){const t=document.createElementNS(svgNS,"rect");return _setAttributes(t,{fill:"#000000",id:elementIds.modalOverlayMaskOpening}),t}function _createMaskConsumer(){const t=document.createElementNS(svgNS,"rect");return _setAttributes(t,{height:"100%",width:"100%",x:"0",y:"0"}),t.setAttribute("mask",`url(#${elementIds.modalOverlayMask})`),t}function createModalOverlay(){const t=_createModalContainer(),e=document.createElementNS(svgNS,"defs"),r=_createMaskContainer(),n=_createMaskRect(),o=_createMaskOpening(),i=_createMaskConsumer();return r.appendChild(n),r.appendChild(o),e.appendChild(r),t.appendChild(e),t.appendChild(i),t}function positionModalOpening(t,e){if(t.getBoundingClientRect&&e instanceof SVGElement){const r=t.getBoundingClientRect(),n=r.x,o=r.y,i=r.width,a=r.height,s=r.left,p=r.top;_setAttributes(e,{x:n||s,y:o||p,width:i,height:a})}}function closeModalOpening(t){t&&t instanceof SVGElement&&_setAttributes(t,{height:"0",x:"0",y:"0",width:"0"})}function getModalMaskOpening(t){return t.querySelector(`#${elementIds.modalOverlayMaskOpening}`)}function preventModalBodyTouch(t){t.preventDefault()}function preventModalOverlayTouch(t){t.stopPropagation()}function toggleShepherdModalClass(t){const e=document.querySelector(`${classNames.modalTarget}`);e&&e.classList.remove(classNames.modalTarget),t.classList.add(classNames.modalTarget)}function _setAttributes(t,e){Object.keys(e).forEach(r=>{t.setAttribute(r,e[r])})}function getElementFromObject(t){const e=t.element;return e instanceof HTMLElement?e:document.querySelector(e)}function getElementForStep(t){const e=t.options.attachTo;if(!e)return null;const r=typeof e;let n;return n="string"===r?getElementFromString(e):"object"===r?getElementFromObject(e):null}function getElementFromString(t){const e=_slicedToArray(t.split(" "),1)[0];return document.querySelector(e)}function addStepEventListeners(){"function"==typeof this._onScreenChange&&(window.removeEventListener("resize",this._onScreenChange,!1),window.removeEventListener("scroll",this._onScreenChange,!0)),window.addEventListener("resize",this._onScreenChange,!1),window.addEventListener("scroll",this._onScreenChange,!0);const t=document.querySelector(`#${elementIds.modalOverlay}`);window.addEventListener("touchmove",preventModalBodyTouch,{passive:!1}),t&&t.addEventListener("touchmove",preventModalOverlayTouch,!1)}var now=function(){return root.Date.now()},FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$2(t,e,r){var n,o,i,a,s,p,l=0,c=!1,d=!1,u=!0;if("function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);function f(e){var r=n,i=o;return n=o=void 0,l=e,a=t.apply(i,r)}function m(t){var r=t-p;return void 0===p||r>=e||r<0||d&&t-l>=i}function h(){var t=now();if(m(t))return g(t);s=setTimeout(h,function(t){var r=e-(t-p);return d?nativeMin(r,i-(t-l)):r}(t))}function g(t){return s=void 0,u&&n?f(t):(n=o=void 0,a)}function y(){var t=now(),r=m(t);if(n=arguments,o=this,p=t,r){if(void 0===s)return function(t){return l=t,s=setTimeout(h,e),c?f(t):a}(p);if(d)return s=setTimeout(h,e),f(p)}return void 0===s&&(s=setTimeout(h,e)),a}return e=toNumber(e)||0,isObject(r)&&(c=!!r.leading,i=(d="maxWait"in r)?nativeMax(toNumber(r.maxWait)||0,e):i,u="trailing"in r?!!r.trailing:u),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=p=o=s=void 0},y.flush=function(){return void 0===s?a:g(now())},y}var FUNC_ERROR_TEXT$1="Expected a function";function baseDelay(t,e,r){if("function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT$1);return setTimeout(function(){t.apply(void 0,r)},e)}function apply(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var nativeMax$1=Math.max;function overRest(t,e,r){return e=nativeMax$1(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=nativeMax$1(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=n[o];return s[e]=r(a),apply(t,this,s)}}function constant(t){return function(){return t}}var baseSetToString=defineProperty?function(t,e){return defineProperty(t,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(t){var e=0,r=0;return function(){var n=nativeNow(),o=HOT_SPAN-(n-r);if(r=n,o>0){if(++e>=HOT_COUNT)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString);function baseRest(t,e){return setToString(overRest(t,e,identity),t+"")}var defer=baseRest(function(t,e){return baseDelay(t,1,e)});class Modal{constructor(t){return this._modalOverlayElem||(this._modalOverlayElem=createModalOverlay(),this._modalOverlayOpening=getModalMaskOpening(this._modalOverlayElem),this.hide(),document.body.appendChild(this._modalOverlayElem)),this.options=t,this}cleanup(){defer(()=>{const t=this._modalOverlayElem;t&&t instanceof SVGElement&&t.parentNode.removeChild(t),this._modalOverlayElem=null,document.body.classList.remove(classNames.isVisible)})}hide(){document.body.classList.remove(classNames.isVisible),this._modalOverlayElem&&(this._modalOverlayElem.style.display="none")}setupForStep(t){this.options.useModalOverlay?(this._styleForStep(t),this.show()):this.hide()}show(){document.body.classList.add(classNames.isVisible),this._modalOverlayElem&&(this._modalOverlayElem.style.display="block")}_styleForStep(t){const e=this._modalOverlayOpening,r=getElementForStep(t);r?(positionModalOpening(r,e),this._onScreenChange=debounce$2(positionModalOpening.bind(this,r,e),0,{leading:!1,trailing:!0}),addStepEventListeners.call(this)):closeModalOpening(this._modalOverlayOpening)}}const defaults={trigger:"manual",arrow:!0,animation:"fade",duration:420,flip:!0,animateFill:!1,interactive:!0,hideOnClick:"toggle",multiple:!0};function cleanupSteps(t){if(t){t.steps.forEach(t=>{if(t.options&&!1===t.options.canClickTarget&&t.options.attachTo){const e=getElementForStep(t);e instanceof HTMLElement&&(e.style.pointerEvents="auto")}})}}function cleanupStepEventListeners(){"function"==typeof this._onScreenChange&&(window.removeEventListener("resize",this._onScreenChange,!1),window.removeEventListener("scroll",this._onScreenChange,!1),this._onScreenChange=null),window.removeEventListener("touchmove",preventModalBodyTouch,{passive:!1})}const uniqueId$1=function(){let t=0;return function(){return++t}}(),Shepherd=new Evented;class Tour extends Evented{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),bindMethods.call(this,["back","cancel","complete","hide","next"]),this.options=t,this.steps=this.options.steps||[];return["active","cancel","complete","inactive","show","start"].map(t=>{(t=>{this.on(t,e=>{(e=e||{}).tour=this,Shepherd.trigger(t,e)})})(t)}),this.modal=new Modal(t),this._setTooltipDefaults(),this._setTourID(),this}addStep(t,e){let r,n;return isUndefined(e)?n=t:(r=t,n=e),n instanceof Step?n.tour=this:n=this.setupStep(n,r),this.steps.push(n),n}back(){const t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}cancel(){if(this.options.confirmCancel){const t=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";window.confirm(t)&&this.done("cancel")}else this.done("cancel")}complete(){this.done("complete")}done(t){isEmpty(this.steps)||this.steps.forEach(t=>t.destroy()),cleanupStepEventListeners.call(this),cleanupSteps(this.tourObject),this.modal.cleanup(),this.trigger(t),Shepherd.activeTour=null,this._removeBodyAttrs(),this.trigger("inactive",{tour:this})}getById(t){return this.steps.find(e=>e.id===t)}getCurrentStep(){return this.currentStep}hide(){const t=this.getCurrentStep();if(t)return t.hide()}isActive(){return Shepherd.activeTour===this}next(){const t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?this.complete():this.show(t+1,!0)}removeStep(t){const e=this.getCurrentStep();this.steps.some((e,r)=>{if(e.id===t)return e.isOpen()&&e.hide(),e.destroy(),this.steps.splice(r,1),!0}),e&&e.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}setupStep(t,e){return(isString(e)||isNumber(e))&&(t.id=e.toString()),t=Object.assign({},this.options.defaultStepOptions,t),new Step(this,t)}beforeShowStep(t){this.modal.setupForStep(t),this._styleTargetElementForStep(t)}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=isString(t)?this.getById(t):this.steps[t];if(r){this._updateStateBeforeShow(),isFunction(r.options.showOn)&&!r.options.showOn()?this._skipStep(r,e):(this.trigger("show",{step:r,previous:this.currentStep}),this.currentStep=r,r.show())}}start(){this.trigger("start"),this.currentStep=null,this._setupActiveTour(),addStepEventListeners.call(this),this.next()}_setupActiveTour(){this._addBodyAttrs(),this.trigger("active",{tour:this}),Shepherd.activeTour=this}_styleTargetElementForStep(t){const e=getElementForStep(t);e&&(toggleShepherdModalClass(e),t.options.highlightClass&&e.classList.add(t.options.highlightClass),!1===t.options.canClickTarget&&(e.style.pointerEvents="none"))}_skipStep(t,e){const r=this.steps.indexOf(t),n=e?r+1:r-1;this.show(n,e)}_setTooltipDefaults(){tippy.setDefaults(defaults)}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(){const t=this.options.tourName||"tour",e=uniqueId$1();this.id=`${t}--${e}`}_addBodyAttrs(){document.body.setAttribute("data-shepherd-active-tour",this.id),document.body.classList.add("shepherd-active")}_removeBodyAttrs(){document.body.removeAttribute("data-shepherd-active-tour"),document.body.classList.remove("shepherd-active")}}Object.assign(Shepherd,{Tour:Tour,Step:Step,Evented:Evented,Popper:Popper,tippy:tippy});export default Shepherd;
